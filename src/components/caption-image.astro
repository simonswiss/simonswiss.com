---
import { Picture } from 'astro-imagetools/components'

export interface Props {
  src: string
  alt: string
  class?: string
}

const { src, alt = '', class: tweaks = '' } = Astro.props as Props
function cx(...classes: string[]) {
  return classes.filter(Boolean).join(' ')
}
---

<figure class="not-prose">
  <Picture
    src={src}
    alt={alt}
    attributes={{
      img: {
        class: cx('rounded-lg shadow-lg', tweaks),
      },
    }}
  />
  <figcaption class="mt-4 text-base text-gray-500">
    <slot />
  </figcaption>
</figure>
