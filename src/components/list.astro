---
import tinytime from 'tinytime'

type Item = {
  frontmatter: {
    title: string
    description: string
    pubDate: string
  }
  url: string
}

export interface Props {
  items: Item[]
}

const { items } = Astro.props as Props

const postDateTemplate = tinytime('{MMMM} {DD}, {YYYY}')
---

<ul class="divide-y divide-gray-200">
  {
    items.map((item) => {
      return (
        <li class="py-12">
          <article class="space-y-2 xl:grid xl:grid-cols-4 xl:items-baseline xl:space-y-0">
            <dl>
              <dt class="sr-only">Published on</dt>
              <dd class="font-party text-base font-medium leading-6 text-gray-500">
                <time datetime={item.frontmatter.pubDate}>
                  {postDateTemplate.render(new Date(item.frontmatter.pubDate))}
                </time>
              </dd>
            </dl>
            <div class="space-y-5 xl:col-span-3">
              <div class="space-y-6">
                <h2 class="text-2xl font-bold leading-8 tracking-tight md:text-3xl">
                  <a href={item.url} class="font-party text-gray-900">
                    {item.frontmatter.title}
                  </a>
                </h2>
              </div>
              <div class="prose lg:prose-lg xl:prose-xl max-w-none text-gray-500">
                <p>{item.frontmatter.description}</p>
              </div>
              <div class="text-base font-medium leading-6">
                <a
                  href={item.url}
                  class="font-party text-teal-500 hover:text-teal-600"
                  aria-label={`Read "${item.frontmatter.title}"`}
                >
                  Read more &rarr;
                </a>
              </div>
            </div>
          </article>
        </li>
      )
    })
  }
</ul>
